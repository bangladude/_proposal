<html>
  <head>
    <title>Proposal</title>
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="css/innerStyle.css">
     <link rel="stylesheet" href="css/jquery.fb.css">
     <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  </head>
  
  <body>
    <a href="http://proposal-pennapps.rhcloud.com/index.html">
    </a>
    <p id=placeHolder>placeholder</p>
    <div id="scriptbox">
    	<h2 id="titleDiv">
    		<img id="title" style="z-index : 1; position : absolute" src='css/img/title2.png'>
    		<button id="button" onClick="next()">></button>
    	</h2>
    		
    <div id="weapons" style = "z-index : 2; display:none; top : 100px; position : absolute">
      <h3>Choose your weapons</h3>
      <form id="formdiv">
        <div id="fbstatus">
          <label for="checkbox1"><input id="checkbox1"  type="checkbox" value="fbstatus"/>
          Update Facebook status</label>
        </div>  
        <div id="tweet"> 
          <label for="checkbox2"><input  id="checkbox2"  type="checkbox" value="tweet"/>
          Tweet the good news</label>
        </div>
        <div id="fbevent">
          <label for="checkbox3"><input  id="checkbox3" type="checkbox" value="fbevent"/>
          Invite friends to engagement event</label>
        </div>
        <div id="ring">
          <label for="checkbox4"> <input  id="checkbox4" type="checkbox" value="ringpic"/>
          Add picture of ring on Facebook</label>
        </div>
        <div id="webpage">
          <label for="checkbox5"><input  id="checkbox5" type="checkbox" value="webpage"/>
          Create announcement webpage</label>
        </div>
        
        <div id="call">
	        <label for="checkbox6">
	        	<input  id="checkbox6" type="checkbox" value="phonecall" onClick="phoneClicked()"/>
	        		Send a congratulatory phone call
	        </label>
          	<label id="phonenumber">
          	  Phone Number: 
          		<input id="phoneTextBox" type="text"/>

          	</label>

        </div><!-- call -->
        
        <div id="video">
          <label for="checkbox7"><input id="checkbox7" type="checkbox" value="video" onClick="emailClicked()"/>
        	Record your friend's reaction</label>
        	
          <label id="emailaddr">
        	Email: <input id="emailTextBox" type="text"/>
          </label>
        </div>
        </form>
      </div>
      
      <div id=chooseFriends>
      	<h1 id=chosenFriend>
      	</h1>
      	<button id="chooseOther" onClick="reOpenChooser()">Choose different fiance</button>
      </div>
      
      <div id="submit" style="display : none">
      	<h1 style="font-weight: 100; font-color: FFB300; font-size: 28px">
      		Almost there...
      	</h1>
      	<h2 style="font-weight: 175; font-color: #06799F; font-size: 36">
      		Click the button to sumbit!
      	</h2>
      </div>
      
      <div id="finished" style="display : none">
      	<h1> 
      		The deed is done.
      	</h1>
      </div>
      
      
    	<a id="link" style="display:none" href="#">Demo it!</a>
    	<script src="friendSelect/jquery-1.6.4.min.js"></script>
    	<script src="friendSelect/jquery.fb.dialog.js"></script>
    	<script src="friendSelect/jquery.fb.friend-selector.js"></script>
    	<script src="friendSelect/facebook-friends.js"></script>
    	<script>
    	var page = 1;
    	
    	function reOpenChooser(){
    		document.getElementById('chooseFriends').style.display = 'none';
    		clickURL();
    	}
    	function phoneClicked(){
			if(document.getElementById('checkbox6').checked){
				document.getElementById('phonenumber').style.display = 'block';
			}
			else{
				document.getElementById('phonenumber').style.display = 'none';
			}
		}
		function emailClicked(){
			if(document.getElementById('checkbox7').checked){
				document.getElementById('emailaddr').style.display = 'block';
			}
			else{
				document.getElementById('emailaddr').style.display = 'none';
			}
		}
    	function next(){
    		if(page == 1){
    			document.getElementById('title').style.display = 'none';
 				document.getElementById('weapons').style.display = 'block';
 				page++;
    		}
    		else if(page == 2){
    			document.getElementById('weapons').style.display = 'none';
    			clickURL();
    			page++;
    		}
    		else if (page == 3){
    			document.getElementById('chooseFriends').style.display = 'none';
    			document.getElementById('submit').style.display = 'block';
    			page++;
    		}
    		else if (page == 4){
    			document.getElementById('submit').style.display = 'none';
    			document.getElementById('button').style.display = 'none';
    			document.getElementById('finished').style.display = 'block';
    		}
    	}
    	function clickURL(){
			document.getElementById('link').click();
    	}
        $(function() {
            selectedFriends = [];
            $('a')
                .click(function(e) {
                    e.preventDefault();
                    // To use, just call the fbFriendSelector() function on a jQuery object and pass it two arguments:
                    // 1.) The JSON data returned from a https://graph.facebook.com/me/friends?access_token=abc API call
                    // 2.) An array of Facebook IDs for those friends that should have initial state of selected
                    $(this).fbFriendSelector(friends.data, selectedFriends);
                })
                // When the dialog is closed, it fires a 'friendSelection' event, which you should bind to
                // The event 'data' is an array of objects in form {name: 'First Last', id: 123}
                .bind('friendSelection', function(e, data) {
                    friendString = ''
                    selectedFriends = [];
                    $.each(data, function() {
                        friendString += this.name+', ';
                        selectedFriends.push(this.id);
                    });
                    document.getElementById('chooseFriends').style.display = 'block';
                    if(selectedFriends.length) {
                        document.getElementById('chosenFriend').innerHTML = 
                        'You chose '+friendString.substring(0, friendString.length - 2)+"!";
                    }
                    else{
                    	document.getElementById('chosenFriend').innerHTML = "You didn't select a fiance";
                    }
                });
        });
    	</script>
	</div>
      <footer>
      Created by: Shaanan Cohney, Nicole Limtiaco, Saajid Moyen, 
      Rigel Swavely
    </footer>
  </body>
</html>
